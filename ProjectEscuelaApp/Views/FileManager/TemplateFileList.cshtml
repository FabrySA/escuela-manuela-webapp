@model IEnumerable<WebEscuelaProject.Models.PublicFileModel>

@{
    ViewData["Title"] = "Machotes";
}



<div class="row justify-content-center align-items-center">
    <div class="col-md-4" style="color: black; background-color: #f8f9fa; padding: 20px; border-radius: 10px;">

        <h1 style="color: black; text-align: center;">Machotes Disponibles</h1>
        <hr />
    </div>
</div>

<table id="publicFilesDataTable" class="stripe hover">
    <thead>
        <tr>
            <th>
                Nombre
            </th>
            <th>
                Fecha de Subida
            </th>
            <th>
                Archivo
            </th>
            <th>
            </th>
        </tr>
    </thead>
    <tbody>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @item.file_visualName
                </td>
                <td>
                    @item.filedate
                </td>
                <td>
                    @item.filename
                </td>
                <td>
                    @if (item.filecontent != null)
                    {
                        var base64 = Convert.ToBase64String(item.filecontent);
                        var pdfDataUri = $"data:application/{item.filextension};base64,{base64}";

                        <button id="" class="btn btn-success"
                        onclick="downloadPDF('@item.filename', '@pdfDataUri')">
                            Descargar <i class="fa fa-download" aria-hidden="true"></i>
                        </button>

                    }
                    else
                    {
                        <p>No se encontraron datos</p>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>








